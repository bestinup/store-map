<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¹´ì¹´ì˜¤ ë§µ í…ŒìŠ¤íŠ¸</title>
    <style>
        #map {
            width: 100%;
            height: 400px;
            border: 2px solid #ccc;
            margin: 20px 0;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-weight: bold;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #cce7ff; color: #004085; }
    </style>
</head>
<body>
    <div style="max-width: 800px; margin: 0 auto; padding: 20px;">
        <h1>ì¹´ì¹´ì˜¤ ë§µ API í…ŒìŠ¤íŠ¸</h1>
        
        <div id="status" class="status info">í…ŒìŠ¤íŠ¸ ì‹œì‘ ì¤‘...</div>
        
        <h2>í˜„ì¬ ì„¤ì •:</h2>
        <ul>
            <li><strong>ë„ë©”ì¸:</strong> <span id="current-domain"></span></li>
            <li><strong>API í‚¤:</strong> 98ffa625d54db78b33ce72ff85c3db4a</li>
            <li><strong>í”„ë¡œí† ì½œ:</strong> <span id="protocol"></span></li>
        </ul>
        
        <h2>í…ŒìŠ¤íŠ¸ ê²°ê³¼:</h2>
        <div id="test-results"></div>
        
        <div id="map"></div>
    </div>

    <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=98ffa625d54db78b33ce72ff85c3db4a"></script>
    <script>
        // í˜„ì¬ í™˜ê²½ ì •ë³´ í‘œì‹œ
        document.getElementById('current-domain').textContent = window.location.host;
        document.getElementById('protocol').textContent = window.location.protocol;
        
        function addTestResult(message, type = 'info') {
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.textContent = message;
            document.getElementById('test-results').appendChild(div);
        }
        
        function updateStatus(message, type = 'info') {
            const statusDiv = document.getElementById('status');
            statusDiv.textContent = message;
            statusDiv.className = `status ${type}`;
        }
        
        // í…ŒìŠ¤íŠ¸ ì‹œì‘
        setTimeout(function() {
            addTestResult('1ë‹¨ê³„: ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ í™•ì¸ ì¤‘...', 'info');
            
            if (typeof kakao === 'undefined') {
                addTestResult('âŒ ì‹¤íŒ¨: kakao ê°ì²´ê°€ ì •ì˜ë˜ì§€ ì•ŠìŒ', 'error');
                updateStatus('ì¹´ì¹´ì˜¤ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹¤íŒ¨', 'error');
                
                // ê°€ëŠ¥í•œ ì›ì¸ ë¶„ì„
                addTestResult('ê°€ëŠ¥í•œ ì›ì¸ë“¤:', 'info');
                addTestResult('- ë„ë©”ì¸ì´ ì¹´ì¹´ì˜¤ ê°œë°œìì„¼í„°ì— ë“±ë¡ë˜ì§€ ì•ŠìŒ', 'error');
                addTestResult('- API í‚¤ê°€ ì˜ëª»ë¨', 'error');
                addTestResult('- CORS ì •ì±… ìœ„ë°˜', 'error');
                addTestResult('- HTTPS ì¸ì¦ì„œ ë¬¸ì œ', 'error');
                
                return;
            }
            
            addTestResult('âœ… ì„±ê³µ: kakao ê°ì²´ ë¡œë“œë¨', 'success');
            
            if (!kakao.maps) {
                addTestResult('âŒ ì‹¤íŒ¨: kakao.mapsê°€ ì—†ìŒ', 'error');
                updateStatus('ì¹´ì¹´ì˜¤ ë§µ ê°ì²´ ì—†ìŒ', 'error');
                return;
            }
            
            addTestResult('âœ… ì„±ê³µ: kakao.maps ê°ì²´ ì¡´ì¬', 'success');
            
            try {
                // ì§€ë„ ìƒì„± ì‹œë„
                addTestResult('2ë‹¨ê³„: ì§€ë„ ìƒì„± ì‹œë„ ì¤‘...', 'info');
                
                const container = document.getElementById('map');
                const options = {
                    center: new kakao.maps.LatLng(35.1595, 126.8526),
                    level: 3
                };
                
                const map = new kakao.maps.Map(container, options);
                
                addTestResult('âœ… ì„±ê³µ: ì¹´ì¹´ì˜¤ ë§µ ìƒì„± ì™„ë£Œ!', 'success');
                updateStatus('ì¹´ì¹´ì˜¤ ë§µ í…ŒìŠ¤íŠ¸ ì„±ê³µ!', 'success');
                
                // ë§ˆì»¤ ì¶”ê°€ í…ŒìŠ¤íŠ¸
                addTestResult('3ë‹¨ê³„: ë§ˆì»¤ ì¶”ê°€ í…ŒìŠ¤íŠ¸...', 'info');
                const markerPosition = new kakao.maps.LatLng(35.1595, 126.8526);
                const marker = new kakao.maps.Marker({
                    position: markerPosition
                });
                marker.setMap(map);
                
                addTestResult('âœ… ì„±ê³µ: ë§ˆì»¤ ì¶”ê°€ ì™„ë£Œ!', 'success');
                addTestResult('ğŸ‰ ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼! ì¹´ì¹´ì˜¤ ë§µì´ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤.', 'success');
                
            } catch (error) {
                addTestResult('âŒ ì‹¤íŒ¨: ì§€ë„ ìƒì„± ì¤‘ ì˜¤ë¥˜ - ' + error.message, 'error');
                updateStatus('ì§€ë„ ìƒì„± ì‹¤íŒ¨: ' + error.message, 'error');
            }
            
        }, 2000);
    </script>
</body>
</html>